<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="nav">
<nav class="nav-bar">
    <div class="nav-container">
        <a href="/" class="nav-brand">
            <span class="nav-brand-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                </svg>
            </span>
            Weekly Report
        </a>
        <div class="nav-right">
            <div class="nav-links">
                <a th:href="@{/}">새 보고서</a>
                <a th:href="@{/chat}">채팅입력</a>
                <a th:if="${session.currentUserId != null}"
                   th:href="@{/my-reports(userId=${session.currentUserId})}">내 보고서</a>
                <a th:href="@{/team-report}">팀 통합보고</a>
                <a th:href="@{/daily}">일별기록</a>
                <a th:href="@{/dashboard}">대시보드</a>
                <a th:href="@{/reservations}">회의실</a>
                <a th:href="@{/prompt-templates}">템플릿</a>
                <a th:href="@{/admin/users}">관리</a>
            </div>
            <button class="theme-toggle" onclick="toggleTheme()" aria-label="다크모드 전환">
                <svg id="sunIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
                    <circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                    <line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                </svg>
                <svg id="moonIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18" style="display:none;">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
                </svg>
            </button>
            <button class="nav-toggle" onclick="toggleNav()" aria-label="메뉴">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="22" height="22">
                    <line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/>
                </svg>
            </button>
        </div>
    </div>
</nav>
<div th:replace="~{fragments/toast :: toast-container}"></div>
<div th:replace="~{fragments/modal :: confirm-modal}"></div>
<script th:src="@{/js/app.js}"></script>
<script>updateThemeIcon(localStorage.getItem('theme') || 'light');</script>
</th:block>
</html>
